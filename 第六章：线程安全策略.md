# 不可变对象
## 不可变对象满足的条件
*对象创建后状态不能修改
*对象的所有域都是final类型
*对象都是正确创建的（对象创建期间，this引用没有溢出）
### final关键字
*修饰类：不能被继承
*修饰方法：锁定方法不被继承类修改
*修饰变量：修饰引用变量，修饰基本变量
```java
public class ImmutableEx1 {
    private final static Integer a = 1;
    private final static String b = "2";
    private final static Map<Integer,Integer> map = Maps.newHashMap();

    static {
        map.put(1,2);
        map.put(3,4);
        map.put(5,6);
    }

    public static void main(String[] args) {
        //b = "3";a = 2; 基本类型的变量不能修改其值
        map.put(1,3);   //final值指向引用类型的对象的时候，不可修改指向的对象，但是可改变其中的值
    }

}
```

# 线程封闭
将对象封装到一个线程中进行访问
* 堆栈封闭：局部变量，不会被多个线程共享，无并发的问题
* ThreadLocal 线程封闭 ：特别好的封装方法。其中维护了一个MAP，map的key是线程的名称，其值是线程封装的对象  
>threadLocal的代码实现如下
